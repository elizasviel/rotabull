generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model SupportDoc {
  id   Int    @id @default(autoincrement())
  slug String @unique
  body String
}

model ZendeskTicket {
  id           Int                    @id @default(autoincrement())
  ticketNumber String                 @unique
  comments     ZendeskTicketComment[]
  submitterId  BigInt
}

model ZendeskTicketComment {
  id              Int           @id @default(autoincrement())
  plainBody       String
  authorId        BigInt
  zendeskTicket   ZendeskTicket @relation(fields: [zendeskTicketId], references: [id])
  zendeskTicketId Int
}

model ZendeskUser {
  id        BigInt   @id @unique
  email     String   @unique
  role      String
  active    Boolean
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

//No submitterID relationship between ZendeskTicket and ZendeskUser  
//No authorID relationship between ZendeskTicketComment and ZendeskUser
//There is no guarantee from the API documentation that all ZendeskTicket submitterIDs will be valid ZendeskUser IDs
//There is no guarantee from the API documentation that all ZendeskTicketComment authorIDs will be valid ZendeskUser IDs
